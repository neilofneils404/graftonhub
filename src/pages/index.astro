---
import BaseLayout from '../layouts/BaseLayout.astro';
import '../styles/global.css';

// For now, use static weather data - will wire up NWS API next
const weatherData = {
  current: {
    temp: 38,
    conditions: "Partly Cloudy",
    wind: "NW 8 mph"
  },
  forecast: [
    { day: "Today", high: 42, low: 32, conditions: "Cloudy" },
    { day: "Tonight", high: 32, low: 28, conditions: "Clear" },
    { day: "Tomorrow", high: 45, low: 35, conditions: "Sunny" }
  ]
};

const currentTime = new Date().toLocaleString('en-US', { 
  timeZone: 'America/New_York',
  weekday: 'long',
  month: 'long', 
  day: 'numeric',
  hour: 'numeric',
  minute: '2-digit'
});
---

<BaseLayout title="Home">
  <div class="search-container">
    <div class="search-wrapper">
      <span class="search-icon">üîç</span>
      <input 
        type="search" 
        class="search-input" 
        placeholder="What are you looking for?"
        aria-label="Search GraftonHub"
      />
    </div>
  </div>

  <section class="hero">
    <div class="container">
      <div class="hero-content">
        <div class="welcome">
          <h1>Welcome to GraftonHub</h1>
          <p class="subtitle">Your local community hub for Grafton, Oberlin, LaGrange, Carlisle Township, and Eaton Township</p>
          <p class="current-time">{currentTime}</p>
        </div>
        
        <div class="weather-card card">
          <div class="weather-header">
            <h3>Current Weather</h3>
            <span class="weather-location">Lorain County, OH</span>
          </div>
          <div class="weather-current">
            <div class="temp-display">
              <span class="temperature">{weatherData.current.temp}¬∞</span>
              <span class="temp-unit">F</span>
            </div>
            <div class="conditions">
              <p class="weather-conditions">{weatherData.current.conditions}</p>
              <p class="weather-wind">{weatherData.current.wind}</p>
            </div>
          </div>
          <div class="weather-forecast">
            {weatherData.forecast.map(day => (
              <div class="forecast-item">
                <span class="forecast-day">{day.day}</span>
                <span class="forecast-temp">{day.high}¬∞/{day.low}¬∞</span>
                <span class="forecast-conditions">{day.conditions}</span>
              </div>
            ))}
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="featured-section">
    <div class="container">
      <div class="card card-featured">
        <span class="badge badge-new">üì¢ Featured</span>
        <h3>Youth Baseball Registration Open</h3>
        <p>Sign up now for spring baseball season! Ages 6-12, registration deadline March 1st.</p>
        <a href="/sports/baseball-registration" class="btn btn-primary">Learn More & Register</a>
      </div>
    </div>
  </section>

  <section class="categories">
    <div class="container">
      <h2>What Can We Help You Find?</h2>
      
      <div class="category-grid">
        <a href="/sports" class="category-card card">
          <span class="category-icon">‚öΩ</span>
          <h3>Sports & Recreation</h3>
          <p>Youth sports, adult leagues, recreation programs, and registration info</p>
        </a>

        <a href="/services" class="category-card card">
          <span class="category-icon">üèõÔ∏è</span>
          <h3>Services & Utilities</h3>
          <p>Set up utilities, find government services, and get permits</p>
        </a>

        <a href="/schools" class="category-card card">
          <span class="category-icon">üéí</span>
          <h3>Schools</h3>
          <p>Calendars, sports schedules, district info, and contact details</p>
        </a>

        <a href="/news" class="category-card card">
          <span class="category-icon">üì∞</span>
          <h3>Local News</h3>
          <p>Stay informed with the latest community news and updates</p>
        </a>

        <a href="/events" class="category-card card">
          <span class="category-icon">üìÖ</span>
          <h3>Events</h3>
          <p>Community events, meetings, festivals, and activities</p>
        </a>

        <a href="/government" class="category-card card">
          <span class="category-icon">üèõÔ∏è</span>
          <h3>Local Government</h3>
          <p>Meeting schedules, agendas, township services, and contacts</p>
        </a>
      </div>
    </div>
  </section>

  <section class="quick-links">
    <div class="container">
      <h2>Quick Access</h2>
      <div class="quick-links-grid">
        <a href="/new-residents" class="quick-link">
          <span>üëã</span>
          <span>New to the Area?</span>
        </a>
        <a href="/utilities" class="quick-link">
          <span>üí°</span>
          <span>Utility Setup</span>
        </a>
        <a href="/schools/calendars" class="quick-link">
          <span>üìö</span>
          <span>School Calendars</span>
        </a>
        <a href="/sports/registration" class="quick-link">
          <span>üèÉ</span>
          <span>Sports Registration</span>
        </a>
      </div>
    </div>
  </section>

  <style>
    .hero {
      padding: var(--space-2xl) 0;
    }

    .hero-content {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: var(--space-2xl);
      align-items: start;
    }

    .welcome h1 {
      font-size: var(--font-size-3xl);
      color: var(--color-primary);
      margin-bottom: var(--space-md);
    }

    .subtitle {
      font-size: var(--font-size-lg);
      color: var(--color-text-secondary);
      margin-bottom: var(--space-lg);
      line-height: var(--line-height-relaxed);
    }

    .current-time {
      font-size: var(--font-size-sm);
      color: var(--color-text-tertiary);
    }

    .weather-card {
      background: var(--color-bg-elevated);
    }

    .weather-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: var(--space-lg);
    }

    .weather-header h3 {
      margin: 0;
      color: var(--color-text-primary);
    }

    .weather-location {
      font-size: var(--font-size-sm);
      color: var(--color-text-tertiary);
    }

    .weather-current {
      display: flex;
      gap: var(--space-xl);
      align-items: center;
      padding: var(--space-lg) 0;
      border-bottom: 1px solid var(--color-border-light);
    }

    .temp-display {
      display: flex;
      align-items: flex-start;
    }

    .temperature {
      font-size: 4rem;
      font-weight: var(--font-weight-bold);
      color: var(--color-primary);
      line-height: 1;
    }

    .temp-unit {
      font-size: var(--font-size-2xl);
      color: var(--color-text-tertiary);
      margin-top: 0.5rem;
    }

    .conditions {
      display: flex;
      flex-direction: column;
      gap: var(--space-xs);
    }

    .weather-conditions {
      font-size: var(--font-size-lg);
      font-weight: var(--font-weight-medium);
      color: var(--color-text-primary);
    }

    .weather-wind {
      font-size: var(--font-size-sm);
      color: var(--color-text-secondary);
    }

    .weather-forecast {
      display: flex;
      flex-direction: column;
      gap: var(--space-sm);
      margin-top: var(--space-lg);
    }

    .forecast-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: var(--space-sm) 0;
      font-size: var(--font-size-sm);
    }

    .forecast-day {
      font-weight: var(--font-weight-medium);
      color: var(--color-text-primary);
      flex: 1;
    }

    .forecast-temp {
      font-weight: var(--font-weight-semibold);
      color: var(--color-primary);
      flex: 1;
      text-align: center;
    }

    .forecast-conditions {
      color: var(--color-text-secondary);
      flex: 2;
      text-align: right;
    }

    .featured-section {
      padding: var(--space-2xl) 0 0;
    }

    .featured-section h3 {
      margin-top: var(--space-md);
      margin-bottom: var(--space-sm);
    }

    .featured-section p {
      margin-bottom: var(--space-lg);
      color: var(--color-text-secondary);
    }

    .categories {
      padding: var(--space-3xl) 0;
    }

    .categories h2 {
      text-align: center;
      margin-bottom: var(--space-2xl);
      color: var(--color-text-primary);
    }

    .category-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: var(--space-xl);
    }

    .category-card {
      text-decoration: none;
      color: inherit;
      text-align: center;
      padding: var(--space-xl);
      transition: all var(--transition-base);
    }

    .category-card:hover {
      border-color: var(--color-primary);
      text-decoration: none;
    }

    .category-icon {
      font-size: 3rem;
      display: block;
      margin-bottom: var(--space-md);
    }

    .category-card h3 {
      color: var(--color-primary);
      margin-bottom: var(--space-sm);
    }

    .category-card p {
      color: var(--color-text-secondary);
      font-size: var(--font-size-sm);
    }

    .quick-links {
      padding: var(--space-2xl) 0 var(--space-3xl);
      background: var(--color-bg-surface);
    }

    .quick-links h2 {
      text-align: center;
      margin-bottom: var(--space-xl);
    }

    .quick-links-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: var(--space-md);
    }

    .quick-link {
      display: flex;
      align-items: center;
      gap: var(--space-md);
      padding: var(--space-lg);
      background: var(--color-bg-elevated);
      border: 1px solid var(--color-border-light);
      border-radius: var(--border-radius-md);
      text-decoration: none;
      color: var(--color-text-primary);
      font-weight: var(--font-weight-medium);
      transition: all var(--transition-base);
    }

    .quick-link:hover {
      border-color: var(--color-primary);
      background: var(--color-bg-elevated);
      box-shadow: var(--shadow-md);
      text-decoration: none;
    }

    .quick-link span:first-child {
      font-size: 1.5rem;
    }

    @media (max-width: 768px) {
      .hero-content {
        grid-template-columns: 1fr;
      }

      .category-grid {
        grid-template-columns: 1fr;
      }

      .temperature {
        font-size: 3rem;
      }
    }
  </style>
</BaseLayout>
