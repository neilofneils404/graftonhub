---
import BaseLayout from '../layouts/BaseLayout.astro';
import '../styles/global.css';
---

<BaseLayout title="GraftonHub - Community Information for Grafton & Surrounding Areas">
  <!-- Live Weather Bar -->
  <div class="weather-bar">
    <div class="container">
      <div class="weather-compact">
        <span class="weather-temp" id="weather-temp">--¬∞F</span>
        <span class="weather-condition" id="weather-condition">Loading...</span>
        <span class="weather-location">Lorain County</span>
      </div>
      <div class="current-date" id="current-date"></div>
    </div>
  </div>

  <!-- Hero Section -->
  <section class="hero">
    <div class="container">
      <h1>Welcome to GraftonHub</h1>
      <p class="tagline">Free community information for Grafton, Oberlin, LaGrange, and surrounding areas</p>
      <p class="subtitle">No tracking. No ads. Just useful local info.</p>
    </div>
  </section>

  <!-- Main Content -->
  <section class="main-content">
    <div class="container">
      <div class="card-grid">
        
        <!-- New Residents -->
        <a href="/new-residents" class="feature-card">
          <div class="card-icon">üè†</div>
          <h2>New to the Area?</h2>
          <p>Complete guide to setting up utilities, registering vehicles, enrolling in schools, and everything else you need when moving to the area.</p>
          <span class="card-link">View Guide ‚Üí</span>
        </a>

        <!-- Youth Sports -->
        <a href="/sports" class="feature-card">
          <div class="card-icon">‚öΩ</div>
          <h2>Youth Sports</h2>
          <p>Find baseball, soccer, basketball, and football programs. Registration info, contacts, costs, and deadlines for local youth leagues.</p>
          <span class="card-link">Find Programs ‚Üí</span>
        </a>

        <!-- Local News Sources -->
        <div class="feature-card news-card">
          <div class="card-icon">üì∞</div>
          <h2>Local News</h2>
          <p>Stay informed with these local news sources:</p>
          <ul class="news-links">
            <li><a href="https://www.chroniclet.com/news/lorain-county/" target="_blank" rel="noopener">Chronicle-Telegram</a></li>
            <li><a href="https://www.cleveland.com/lorain-county/" target="_blank" rel="noopener">Cleveland.com - Lorain County</a></li>
            <li><a href="https://www.morningjournal.com/" target="_blank" rel="noopener">Morning Journal</a></li>
          </ul>
        </div>

        <!-- Schools -->
        <a href="/schools" class="feature-card">
          <div class="card-icon">üè´</div>
          <h2>Schools</h2>
          <p>Information and links for Midview, Oberlin, and Keystone school districts.</p>
          <span class="card-link">School Info ‚Üí</span>
        </a>

        <!-- Government -->
        <a href="/government" class="feature-card">
          <div class="card-icon">üèõÔ∏è</div>
          <h2>Local Government</h2>
          <p>Contact info and links for village, city, and township governments in the area.</p>
          <span class="card-link">Government Info ‚Üí</span>
        </a>

        <!-- Parks & Recreation -->
        <div class="feature-card">
          <div class="card-icon">üå≤</div>
          <h2>Parks & Recreation</h2>
          <p>Explore local metro parks and outdoor spaces:</p>
          <ul class="news-links">
            <li><a href="https://www.loraincountymetroparks.com/" target="_blank" rel="noopener">Lorain County Metro Parks</a></li>
            <li><a href="https://www.loraincountymetroparks.com/reservation/indian-hollow" target="_blank" rel="noopener">Indian Hollow Reservation</a></li>
          </ul>
        </div>

      </div>
    </div>
  </section>

  <!-- About Section -->
  <section class="about-section">
    <div class="container">
      <h2>About GraftonHub</h2>
      <p>GraftonHub is a free community resource. We don't track you, we don't run ads, and we don't sell your data. Just straightforward local information for our neighbors.</p>
      <p>This site is a work in progress. Have a suggestion? <a href="mailto:neil@neilofneils.com">Let us know</a>.</p>
    </div>
  </section>

  <script>
    // Live weather from NWS API
    async function fetchWeather() {
      try {
        const response = await fetch('https://api.weather.gov/gridpoints/CLE/61,51/forecast/hourly', {
          headers: { 'User-Agent': 'GraftonHub Community Site' }
        });
        if (!response.ok) throw new Error('Weather fetch failed');
        const data = await response.json();
        const current = data.properties.periods[0];
        document.getElementById('weather-temp').textContent = `${current.temperature}¬∞${current.temperatureUnit}`;
        document.getElementById('weather-condition').textContent = current.shortForecast;
      } catch (error) {
        document.getElementById('weather-condition').textContent = 'Weather unavailable';
      }
    }

    function updateDate() {
      const now = new Date();
      document.getElementById('current-date').textContent = now.toLocaleDateString('en-US', { 
        weekday: 'long', year: 'numeric', month: 'long', day: 'numeric', timeZone: 'America/New_York'
      });
    }

    document.addEventListener('DOMContentLoaded', () => {
      updateDate();
      fetchWeather();
    });
    setInterval(fetchWeather, 15 * 60 * 1000);
  </script>

  <style>
    .weather-bar {
      background: #f5f5f5;
      border-bottom: 1px solid #e0e0e0;
      padding: 0.5rem 0;
      font-size: 0.875rem;
    }

    .weather-bar .container {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .weather-compact {
      display: flex;
      gap: 1rem;
      align-items: center;
    }

    .weather-temp {
      font-weight: 600;
    }

    .weather-condition {
      color: #666;
    }

    .weather-location {
      color: #999;
      font-size: 0.75rem;
    }

    .current-date {
      color: #666;
      font-size: 0.75rem;
    }

    .hero {
      padding: 3rem 0;
      text-align: center;
      border-bottom: 1px solid #e0e0e0;
    }

    .hero h1 {
      font-size: 2.5rem;
      margin-bottom: 0.5rem;
    }

    .tagline {
      font-size: 1.25rem;
      color: #333;
      margin-bottom: 0.25rem;
    }

    .subtitle {
      color: #666;
      font-size: 0.95rem;
    }

    .main-content {
      padding: 3rem 0;
    }

    .card-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 1.5rem;
    }

    .feature-card {
      display: block;
      padding: 1.5rem;
      border: 1px solid #e0e0e0;
      border-radius: 8px;
      background: white;
      text-decoration: none;
      color: inherit;
      transition: border-color 0.2s, box-shadow 0.2s;
    }

    a.feature-card:hover {
      border-color: #333;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .card-icon {
      font-size: 2rem;
      margin-bottom: 0.75rem;
    }

    .feature-card h2 {
      font-size: 1.25rem;
      margin-bottom: 0.5rem;
    }

    .feature-card p {
      color: #666;
      font-size: 0.95rem;
      line-height: 1.5;
      margin-bottom: 0.75rem;
    }

    .card-link {
      color: #0066cc;
      font-weight: 500;
      font-size: 0.9rem;
    }

    .news-links {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .news-links li {
      margin: 0.5rem 0;
    }

    .news-links a {
      color: #0066cc;
      text-decoration: none;
    }

    .news-links a:hover {
      text-decoration: underline;
    }

    .about-section {
      background: #f9f9f9;
      padding: 2rem 0;
      text-align: center;
      border-top: 1px solid #e0e0e0;
    }

    .about-section h2 {
      font-size: 1.25rem;
      margin-bottom: 0.75rem;
    }

    .about-section p {
      color: #666;
      max-width: 600px;
      margin: 0.5rem auto;
      font-size: 0.95rem;
    }

    @media (max-width: 768px) {
      .weather-bar .container {
        flex-direction: column;
        gap: 0.25rem;
      }

      .hero h1 {
        font-size: 1.75rem;
      }

      .card-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</BaseLayout>
